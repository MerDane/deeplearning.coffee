(function(){this.LogisticRegression=function(){function t(t,i,r,n,s){var o,h,f,u,e,a;for(this.N=t,this.nIn=i,this.nOut=r,this.W=new Array,this.b=new Array,o=f=0,e=r;e>f;o=f+=1)for(this.W[o]=new Array,this.b[o]=0,h=u=0,a=i;a>u;h=u+=1)this.W[o][h]=0}return t.prototype.train=function(t,i,r,n){var s,o,h,f,u,e,a,c,l,p,O;for(a=function(){var t,i,r;for(r=[],t=0,i=this.nOut;i>=0?i>t:t>i;i>=0?t++:t--)r.push(0);return r}.call(this),null===n&&(n=function(){var t,i,r;for(r=[],t=0,i=this.nOut;i>=0?i>t:t>i;i>=0?t++:t--)r.push(0);return r}.call(this)),s=h=0,c=this.nOut;c>h;s=h+=1){for(a[s]=0,o=f=0,l=this.nIn;l>f;o=f+=1)a[s]+=this.W[s][o]*t[o];a[s]+=this.b[s]}for(this.softmax(a),s=u=0,p=this.nOut;p>u;s=u+=1){for(n[s]=i[s]-a[s],o=e=0,O=this.nIn;O>e;o=e+=1)this.W[s][o]+=r*n[s]*t[o]/this.N;this.b[s]+=r*n[s]/this.N}},t.prototype.softmax=function(t){var i,r,n,s,o,h,f,u,e;for(o=0,e=0,i=r=0,h=this.nOut;h>r;i=r+=1)o<t[i]&&(o=t[i]);for(i=n=0,f=this.nOut;f>n;i=n+=1)t[i]=Math.exp(t[i]-o),e+=t[i];for(i=s=0,u=this.nOut;u>s;i=s+=1)t[i]/=e},t.prototype.predict=function(t,i){var r,n,s,o,h,f;for(r=s=0,h=this.nOut;h>s;r=s+=1){for(i[r]=0,n=o=0,f=this.nIn;f>o;n=o+=1)i[r]+=this.W[r][n]*t[n];i[r]+=this.b[r]}return this.softmax(i)},t}(),this.test_LogisticRegression=function(){var t,i,r,n,s,o,h,f,u,e,a,c,l,p,O,y,g,v,w,W,b,A,x,I,m,L,N,R;for(h=.1,a=500,L=4,x=4,c=2,l=2,N=[[0,0],[0,1],[1,0],[1,1]],R=[[0,1],[0,1],[1,0],[1,0]],t=new LogisticRegression(L,c,l),i=s=0,y=a;y>s;i=s+=1)for(r=o=0,g=L;g>o;r=o+=1)t.train(N[r],R[r],h,null);for(I=[[0,0],[0,1],[1,0],[1,1]],m=new Array,r=u=0,v=x;v>u;r=u+=1)for(m[r]=new Array,n=e=0,w=l;w>e;n=e+=1)m[r][n]=0;for(A=[],r=p=0,W=x;W>p;r=p+=1){for(f="",t.predict(I[r],m[r]),n=O=0,b=l;b>O;n=O+=1)f+=m[r][n]+" ";A.push(console.log(f))}return A}}).call(this);